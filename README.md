# SkyModelling
This git repo contains code to analyze the sky spectrum measured by BOSS and others. The primary goal is to create a model for the sky continuum and OH line emissions.

This repo is a collaboration between Parker Fagrelius, Anze Slocum, and David Kirkby and could grow to include more people.

Included in this repo:
* spframe_flux.py: Run to collect sky flux for all BOSS data. Turns spframe electrons into flux. Generates pkl files for flux, wavelength, and raw metadata.
* good_plates.txt: Includes QUALITY data for every plate-day from platelist.fits for BOSS data
* sky_fibers.pkl: Includes each sky fiber identified for each BOSS plate
* BOSSFluxData.ipynb: Python notebook that extracts data generated by spframe_flux and loads it all in a pd.DataFrame
* no_spc_match.pkl: file that contains all observation skipped because there was no matching spc file.
* boss_meta_rich.py: script that takes raw metadata from fits headers (saved in pkl files) and calculates additional information (like sun, moon location, solar flux, lat, lon, etc.)
* boss_rich_meta.pkl: data generated by boss_meta_rich.py (sorry about the names!)
* MetaDataEval.ipynb: looks at the distribution of the metadata from boss_meta_rich.pkl and serves as a way to cross check the data
* fit_spectra.py: Takes spframe spectra and fits them using least squares. Returns the model, with the airglow lines, continuum, and residuals returned individually
* AirglowLines: Atlas of airglow lines identified by UVES.
